!function(e,n){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define([],function(){return e.jPopup=n()}):"object"==typeof module&&module.exports?module.exports=n():e.jPopup=n()}(this,function(){"use strict";var n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";p=0!=e.hash,o(e.content).then(d).then(1==p&&t(!0))},o=function(e){return c.classList.add("jPopupOpen"),Promise.resolve(document.body.insertAdjacentHTML("beforeend",'<div class="jPopup">\n\t\t\t\t<button type="button" class="jCloseBtn">\n\t\t\t\t\t<div class="graphicIcon"></div>\n                </button>\n                <div class="content">'+e+"</div>\n            </div>"))},t=function(e){1==e?window.location.hash="#popup":window.history.back()},i=function(e){27==e.keyCode&&n.prototype.close(!0)},s=function(){"#popup"!==window.location.hash&&n.prototype.close(!1)},d=function(){document.getElementsByClassName("jCloseBtn")[0].addEventListener("click",function(){n.prototype.close(!0)}),window.addEventListener("keydown",i),1==p&&window.addEventListener("hashchange",s)},c=document.querySelector("html"),p=void 0;return n.prototype={close:function(e){c.classList.add("jPopupClosed"),1==p&&(e&&t(!1),window.removeEventListener("hashchange",s)),window.removeEventListener("keydown",i),document.getElementsByClassName("jPopup")[0].addEventListener("animationend",function(e){e.target.parentNode.removeChild(this),c.classList.remove("jPopupClosed"),c.classList.remove("jPopupOpen")})},open:function(e){n(e)}},window.jPopup=n});